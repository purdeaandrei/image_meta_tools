== Building ==

Run ./initial_build.sh.
This will build the two libraries in the external folder, and then build this project.

If the two libraries are already built, then running a simple "make" command is sufficient to build image_meta_tools.
Run "make clean" to delete files generated by the image_meta_tools build
Run "make cleanall" to also clean the external libraries.

Build was tested on Debian Linux 64 bit, and on Windows/Cygwin.

== Usage ==

There are three tools at the moment:

1) image2xml

Usage: ./image2xml input.mpo/input.jpg output.xml [ flags ]
-i: non-parsed data: include data inline
-f: non-parsed data: generate binary files, and refer to the from XML (default)
-c: try to find unreferenced concatenated images (default)
-n: don't try to find unreferenced images (they remain binary data) (recommended)

2) xml2image

Usage: ./xml2image input.xml output.mpo/output.jpg [ output_offsets.h ] [ prefix for defintions in .h file ]

if a third argument is specified, then the offsets are written to the specified file like this:
#define _ifd_0__Orientation 54


3) mpo2jps

Usage: ./mpo2jps input.mpo output.jps [ flags ]
-hh: half-height output (pixels are averaged
-hw: half-width output (pixels are averaged
-fr: right image first (topmost/leftmost/red)
-fl: left image first (topmost/leftmost/red) (default!)
-i: interleaved layout
-s: side by side layout (default!)
-o: over-under layout
-a: anaglyph
-qNUMBER: JPEG quality (0..100). remember, MPO->JPS conversion reencodes the image!
NOTE: monoscopic format is not implemented.
